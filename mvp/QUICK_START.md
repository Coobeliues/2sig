# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - 5 –º–∏–Ω—É—Ç

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞.

## –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (1 –º–∏–Ω—É—Ç–∞)

```bash
cd /home/keosido/Desktop/nlp_2gis/mvp
pip install -r requirements.txt
```

## –®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (30-60 –º–∏–Ω—É—Ç, –û–î–ò–ù —Ä–∞–∑)

```bash
python step1_prepare.py
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ—Ç–∑—ã–≤—ã –∏–∑ `../nlp_analysis/reviews_cleaned_advanced.csv`
- –°–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –º–æ–¥–µ–ª—å LaBSE (~500MB)
- –°–æ–∑–¥–∞—é—Ç—Å—è embeddings –¥–ª—è –≤—Å–µ—Ö –æ—Ç–∑—ã–≤–æ–≤
- –°—Ç—Ä–æ–∏—Ç—Å—è FAISS –∏–Ω–¥–µ–∫—Å
- –í—Å—ë —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `cache/`

**–í–∞–∂–Ω–æ:** –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—É—Å–∫–∞—Ö –º–æ–∂–µ—Ç–µ –Ω–∞–∂–∞—Ç—å `y` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ –∫—ç—à–∞ - –±—É–¥–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ!

## –®–∞–≥ 3: –ü–æ–∏—Å–∫ (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)

```bash
python step2_search.py
```

–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º:
- **1** - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π (–≤–≤–æ–¥–∏—Ç–µ —Å–≤–æ–∏ –∑–∞–ø—Ä–æ—Å—ã)
- **2** - –î–µ–º–æ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã)

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

```
—É—é—Ç–Ω–æ–µ –∫–∞—Ñ–µ —Å –≤–∫—É—Å–Ω—ã–º –∫–æ—Ñ–µ
–Ω–µ–¥–æ—Ä–æ–≥–æ–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω —Å –±–æ–ª—å—à–∏–º–∏ –ø–æ—Ä—Ü–∏—è–º–∏
—Ç–∏—Ö–æ–µ –º–µ—Å—Ç–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã
—Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –º–µ—Å—Ç–æ –¥–ª—è —Å–≤–∏–¥–∞–Ω–∏—è
–∑–∞–≤–µ–¥–µ–Ω–∏–µ —Å –∂–∏–≤–æ–π –º—É–∑—ã–∫–æ–π
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```python
from step2_search import SemanticSearch

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
search = SemanticSearch()

# –ü–æ–∏—Å–∫
results = search.search_places("—É—é—Ç–Ω–æ–µ –∫–∞—Ñ–µ —Å –≤–∫—É—Å–Ω—ã–º –∫–æ—Ñ–µ", top_k=10)

# –í—ã–≤–æ–¥
for idx, row in results.iterrows():
    print(f"{idx+1}. {row['name']} - –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: {row['final_score']:.3f}")
```

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

- –ß–∏—Ç–∞–π—Ç–µ [README.md](README.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ [config.py](config.py)
- –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å –º–µ—Ç–æ–¥–∞–º–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ (`weighted`, `mean`, `max`)

## –ü—Ä–æ–±–ª–µ–º—ã?

**–ù–µ—Ç –∫—ç—à–∞:**
```bash
python step1_prepare.py  # –°–æ–∑–¥–∞—Ç—å –∫—ç—à
```

**–ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**
```python
# –£–º–µ–Ω—å—à–∏—Ç–µ min_reviews
results = search.search_places(query, min_reviews=1)
```

**–ú–µ–¥–ª–µ–Ω–Ω–æ:**
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è CPU
- –ü–µ—Ä–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤: 30-60 –º–∏–Ω—É—Ç
- –ü–æ–∏—Å–∫ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ: 50-200 –º—Å

–ì–æ—Ç–æ–≤–æ! üéâ
